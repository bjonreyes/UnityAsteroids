/*****************************************************************************
*                                                                            *
*  Asteroid Rain!                                                            *
*  Sergi Herrero Collada.   												 *
*  2013                              										 *
*                                                                            *
*****************************************************************************/
using UnityEngine;
using System.Collections;

public class CameraResize : MonoBehaviour 
{
	// ------------------------------------------------------------------------------------------------------------------------------------------
	// UNITY OBJECT PARAMETERS
	// ------------------------------------------------------------------------------------------------------------------------------------------
	
	
	// ------------------------------------------------------------------------------------------------------------------------------------------
	// MEMBER VARIABLES
	// ------------------------------------------------------------------------------------------------------------------------------------------
	
		
	private bool m_done = false;
	
	// ------------------------------------------------------------------------------------------------------------------------------------------
	// MEMBER METHODS
	// ------------------------------------------------------------------------------------------------------------------------------------------

	// ------------------------------------------------------------------------------------------------------------------------------------------
	// Use this for initialization
	// ------------------------------------------------------------------------------------------------------------------------------------------
	void Start () 
	{
		ResizeCamera();
	}
	
	// ------------------------------------------------------------------------------------------------------------------------------------------
	// ResizeCamera: Resize camera to be able to fit everything in the screen if our target screen if is smaller than the targeted screen
	// ------------------------------------------------------------------------------------------------------------------------------------------
	public void ResizeCamera ()
	{
		if(!m_done)
		{
			float targetWidth = Global.k_baseAspect * Screen.height;
			if(Screen.width < targetWidth)
			{
				Camera cam = GetComponent<Camera>();
				float targetHeight = Screen.width / Global.k_baseAspect;
				cam.orthographicSize = cam.orthographicSize * (Screen.height / targetHeight);
			}
			m_done = true;
		}
	}
	
	// ------------------------------------------------------------------------------------------------------------------------------------------
	// ForceResizeCamera: Forze to resize camera
	// ------------------------------------------------------------------------------------------------------------------------------------------
	public void ForceResizeCamera ()
	{
		m_done = false;
		ResizeCamera();
	}
	
	// ------------------------------------------------------------------------------------------------------------------------------------------
	// Update is called once per frame
	// ------------------------------------------------------------------------------------------------------------------------------------------
	//void Update () 
	//{
	//	
	//}
}
